{"version":3,"sources":["pages/detail/components/chartWeather/index.module.less","pages/detail/index.module.less","pages/detail/components/datesWeather/index.module.less","pages/detail/components/hoursWeather/index.module.less","utils/network/request.ts","utils/date.ts","api/index.ts","utils/storage.ts","pages/home/index.tsx","pages/detail/components/datesWeather/index.tsx","pages/detail/components/hoursWeather/index.tsx","pages/detail/components/chartWeather/index.tsx","pages/detail/index.tsx","App.tsx","index.tsx","pages/home/index.module.less"],"names":["module","exports","axios","defaults","timeout","interceptors","request","use","config","error","response","status","data","message","Toast","show","icon","content","console","log","Promise","reject","resolve","indexOf","statusText","WeekEnum","baseRequest","headers","url","get","params","method","post","patch","put","delete","getWeatherNow","getWeather7d","getWeather24h","getHourAmPmTime","date","Case","time","dayjs","format","getWeekNum","num","day","getKey","key","Storage","success","fail","localStorage","getItem","then","res","resJson","JSON","parse","expires","expirationDate","Date","isExpired","removeItem","catch","userInfo","undefined","toGMTString","setItem","stringify","clear","weatherDetail","name","unit","Home","useState","obsTime","temp","text","humidity","windSpeed","precip","windDir","weatherRes","setWeatherRes","useEffect","now","err","a","weatherDetailcp","map","item","className","styles","weatherDetailItem","weatherDetailItemLeft","weatherDetailItemRight","number","home","raindrop","card","city","list","listLeft","temperatureWarp","util","tiemWarp","listRight","wind","cloud","linkBtn","to","pathname","state","footer","homeTap","DatesWeather","props","weatherList","datesWeatherWarp","index","datesWeatherItem","fxDate","iconDay","tmp","tempMax","tempMin","HoursWeather","hoursWeatherWarp","box","hoursWeatherItem","fxTime","chartWeather","chartWeatherWarp","option","xAxis","type","boundaryGap","lineStyle","color","yAxis","grid","height","top","left","right","bottom","series","showSymbol","areaStyle","style","width","notMerge","lazyUpdate","Detail","useLocation","weatherHoursRes","setWeatherHoursRes","weatherDatesRes","setWeatherDatesRes","value","daily","hourly","detail","back","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b061914.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chartWeatherWarp\":\"index_chartWeatherWarp__2fmBD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"index_detail__3vScw\",\"back\":\"index_back__3d5S_\",\"city\":\"index_city__3esik\",\"temperatureWarp\":\"index_temperatureWarp__2qR_Q\",\"number\":\"index_number__2zHBZ\",\"util\":\"index_util__22gsA\",\"raindrop\":\"index_raindrop__3Kei2\",\"weatherDetail\":\"index_weatherDetail__24t9G\",\"weatherDetailItem\":\"index_weatherDetailItem__28gLU\",\"weatherDetailItemRight\":\"index_weatherDetailItemRight__2tCrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datesWeatherWarp\":\"index_datesWeatherWarp__3ok6x\",\"datesWeatherItem\":\"index_datesWeatherItem__14-8j\",\"date\":\"index_date__E1hHQ\",\"icon\":\"index_icon__2AEQe\",\"tmp\":\"index_tmp__1al7q\",\"tempMax\":\"index_tempMax__3ohNP\",\"tempMin\":\"index_tempMin__1AdfV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoursWeatherWarp\":\"index_hoursWeatherWarp__3JgiD\",\"box\":\"index_box__1tQRM\",\"hoursWeatherItem\":\"index_hoursWeatherItem__1UaOL\",\"tmp\":\"index_tmp__dxgLZ\",\"number\":\"index_number__vrmB2\",\"unit\":\"index_unit__3xgtd\",\"fxTime\":\"index_fxTime__2ZxFR\"};","import { Toast } from 'antd-mobile';\nimport axios, { AxiosRequestConfig } from 'axios';\n\naxios.defaults.timeout = 1000 * 10;\ninterface AxiosErrorInterface {\n  message: string;\n  config: any;\n  response: any;\n}\n\naxios.interceptors.request.use(\n  (config: any) => {\n    return config;\n  },\n  (error: AxiosErrorInterface) => {\n    return error;\n  },\n);\n\naxios.interceptors.response.use(\n  (response: any) => {\n    if (response.status !== 200) {\n      response.data.message &&\n        Toast.show({ icon: 'fail', content: response.data.message });\n        // Storage.setItem()\n        console.log('response', response);\n      return Promise.reject(response);\n    }\n    return Promise.resolve(response.data);\n  },\n  (error: AxiosErrorInterface) => {\n    if (~`${error.message}`.indexOf('timeout')) {\n      Toast.show({ icon: 'fail', content: '网络超时' });\n    }\n    error.response &&\n      error.response.data.message &&\n      Toast.show({ icon: 'fail', content: error.response.data.message });\n    if (error.response && error.response.status === 401) {\n    //  window.location.assign(`${window.location.origin}/login`);\n    Toast.show({ icon: 'fail', content: '无权限' });\n    } else {\n      error.response &&\n        error.response.statusText &&\n        Toast.show({ icon: 'fail', content: error.response.data.message });\n    }\n    return Promise.reject(error);\n  },\n);\n\nconst baseRequest = (config: any): Promise<any> => {\n  config = {\n    ...config,\n    headers: {\n    //   Authorization: `Beara ${getAuth()}`,\n    },\n    url: `${config.url}`,\n  };\n  return axios.request(config);\n};\n\n const request = {\n  get: (url: string, params?: object, config?: AxiosRequestConfig) => () => {\n    return baseRequest({\n      method: 'get',\n      params,\n      url,\n      ...config,\n    });\n  },\n  post: (url: string, data: object, config?: AxiosRequestConfig) => () => {\n    return baseRequest({\n      data,\n      method: 'post',\n      url,\n      ...config,\n    });\n  },\n  patch: (url: string, data: object, config?: AxiosRequestConfig) => () => {\n    return baseRequest({\n      data,\n      method: 'patch',\n      url,\n      ...config,\n    });\n  },\n  put: (url: string, data?: object, config?: AxiosRequestConfig) => () => {\n    return baseRequest({\n      data,\n      method: 'put',\n      url,\n      ...config,\n    });\n  },\n  delete: (url: string, data?: object, config?: AxiosRequestConfig) => () => {\n    return baseRequest({\n      data,\n      method: 'delete',\n      url,\n      ...config,\n    });\n  },\n};\n\nexport default request;","import dayjs from 'dayjs'\n\n/**\n * 格式化时间\n * @param date 日期\n * @param formatted 格式\n * @returns \n */\nexport const formatTime = (date: dayjs.ConfigType, formatted = 'YYYY-MM-DD HH:mm:ss') => {\n  return dayjs(date).format(formatted)\n}\n\n/**\n * 获取上午或者下午的小时时间\n * @param date 日期\n * @param Case 上午下午大小写\n * @returns \n */\nexport const getHourAmPmTime = (date: dayjs.ConfigType, Case: 'a' | 'A') => {\n  const time = dayjs(date);\n  return time.format('HH') + time.format(Case)\n}\n\n\nenum WeekEnum {\n  '周天',\n  '周一',\n  '周二',\n  '周三',\n  '周四',\n  '周五',\n  '周六'\n}\n/**\n * 获取周几\n * @param date \n * @returns \n */\nexport const getWeekNum = (date: dayjs.ConfigType) => {\n  const num = dayjs(date).day()\n  return WeekEnum[num]\n}","import request from '../utils/network/request';\n\n// 日期天气类型\nexport type dateWeather = {\n  fxDate: string, // 日期\n  tempMax: string, // 最高温度\n  tempMin: string, // 最低温度\n  iconDay: string // 图标\n}\n// 小时天气类型\nexport type hourWeather = {\n  fxTime: string, // 时间\n  temp: string // 温度\n}\n// 实时天气类型\nexport type todayWeather = {\n    obsTime: string,\n    temp: string, // 温度\n    humidity: string, // 相对湿度，百分比数值\n    windSpeed: string, // 风速度\n    precip: string,  // 当前小时累计降水量，默认单位：毫米\n    windDir: string, // 风描述\n    text: string // 风强度\n  }\n  export const getWeatherNow = request.get('https://api.qweather.com/v7/weather/now?key=6a5403f3e17644f7a36c7f092ee9d30c&location=101210101', {});\n  export const getWeather7d = request.get('https://api.qweather.com/v7/weather/7d?key=6a5403f3e17644f7a36c7f092ee9d30c&location=101210101', {});\n  export const getWeather24h = request.get('https://api.qweather.com/v7/weather/24h?key=6a5403f3e17644f7a36c7f092ee9d30c&location=101210101', {});\n\n","\nfunction isExpired (expires: any) {\n  const expirationDate: any = new Date(expires)\n  const now: any = new Date()\n  return now - expirationDate >= 0\n}\n\nfunction getKey (key: string) {\n  return `${key}`\n}\n\nclass Storage {\n  static getItem (key: string) {\n    return new Promise((success, fail) => {\n      try {\n        success(localStorage.getItem(getKey(key)))\n      } catch (error) {\n        fail(error)\n      }\n    })\n      .then((res: any) => {\n        if (res) {\n          const resJson = JSON.parse(res)\n          if (resJson.expires && isExpired(resJson.expires)) {\n            this.removeItem(key)\n            return null\n          }\n          return resJson\n        }\n        return null\n      })\n      .catch(() => null)\n  }\n\n  static setItem (key: string, userInfo: any, expirationDate?: any) {\n    if (userInfo !== undefined) {\n      const data: any = {\n        expires: expirationDate && expirationDate.toGMTString(),\n        ...userInfo,\n      }\n      return new Promise((success, fail) => {\n        try {\n          success(localStorage.setItem(getKey(key), JSON.stringify(data)))\n        } catch (error) {\n          fail(error)\n        }\n      })\n    }\n    return Promise.reject()\n  }\n\n  static clear () {\n    return new Promise((success, fail) => {\n      try {\n        success(localStorage.clear())\n      } catch (error) {\n        fail(error)\n      }\n    })\n  }\n\n  static removeItem (key: string) {\n    return new Promise((success, fail) => {\n      try {\n        success(localStorage.removeItem(getKey(key)))\n      } catch (error) {\n        fail(error)\n      }\n    })\n  }\n}\n\nexport default Storage\n","import { useState, useEffect }from 'react'\nimport styles from './index.module.less';\nimport { Link } from 'react-router-dom';\nimport { getWeatherNow, todayWeather }  from '../../api';\nimport { getHourAmPmTime, getWeekNum } from '../../utils/date'\nimport Storage from '@/utils/storage'\n\nconst weatherDetail = [\n    {name:'降雨量', unit:'%', key: 'precip'}, \n    {name:'湿度', unit:'%', key: 'humidity'}, \n    {name:'风度', unit:'km/h', key: 'windSpeed'}]\ntype weatherDetailKey =  'precip' | 'humidity' | 'windSpeed'\nexport default function Home () {\n  const [weatherRes, setWeatherRes] = useState<todayWeather>({\n    obsTime: '',\n    temp: '', // 温度\n    text: '', // 天气描述\n    humidity: '', // 相对湿度，百分比数值\n    windSpeed: '', // 风速度\n    precip: '',  // 当前小时累计降水量，默认单位：毫米\n    windDir: '', // 风描述\n  })\n  useEffect(() => {\n    getWeatherNow().then((res) => {\n      Storage.setItem('weatherRes', res.now)\n      setWeatherRes(res.now);\n    }).catch(async (err) => {\n      const res = await Storage.getItem('weatherRes')\n      if(res) {\n        setWeatherRes(await Storage.getItem('weatherRes'))\n      }\n    });\n    }, []);\n  let weatherDetailcp = weatherDetail.map((item)=>{\n    return (\n      <div className={styles.weatherDetailItem}  key={item.key}>\n        <div className={styles.weatherDetailItemLeft}>{item.name}</div>\n        <div className={styles.weatherDetailItemRight}>\n        <span className={styles.number}>{weatherRes[item.key as weatherDetailKey] }</span>\n        <span className={styles.unit}>{item.unit}</span>\n        </div>\n      </div>\n    )\n  });\n  return (\n    <div className={styles.home}>\n      <div className={styles.raindrop}></div>  \n      <div className={styles.card}>\n      <div className={styles.city}>杭州市, 浙江省</div>\n        <div className={styles.list}>\n          <div className={styles.listLeft}>\n          <div className={styles.temperatureWarp}>\n            <div className={styles.number}>{weatherRes.temp}</div>\n            <div className={styles.util}>°C</div>\n          </div>\n          <div className={styles.tiemWarp}>\n            <span className={styles.date}>{getWeekNum(weatherRes.obsTime)},</span>\n            <span className={styles.time}>{getHourAmPmTime(weatherRes.obsTime, 'a')}</span>\n          </div>\n          </div>\n          <div className={styles.listRight}>\n            <div className={styles.wind}>{weatherRes.windDir}</div>\n            <div className={styles.cloud}>{weatherRes.text}</div>\n          </div>\n        </div>\n        <div className={styles.linkBtn}><Link to={{\n          pathname: '/detail',\n          state: weatherRes\n        }}>详情</Link></div>\n      </div>\n      <div className={styles.weatherDetail}>\n         {weatherDetailcp}\n      </div>\n      <footer className={styles.footer}><div className={styles.homeTap}>home</div></footer>\n    </div>\n  )\n}","import styles from './index.module.less';\nimport { dateWeather } from '../../../../api';\nimport { getWeekNum } from '../../../../utils/date'\n\ninterface IProps {\n  weatherList: dateWeather[]\n}\nconst DatesWeather: React.FC<IProps> = (props) => {\n  const { weatherList } = props;\n  return (\n    <div className={styles.datesWeatherWarp}>\n      {weatherList.map((item, index) => (\n        <div className={styles.datesWeatherItem} key={index}>\n          <div className={styles.date}>{getWeekNum(item.fxDate)}</div>\n          <div className={styles.icon}><i className={'qi-'+ item.iconDay}></i></div>\n          <div className={styles.tmp}><span className={styles.tempMax}>{item.tempMax}°C</span> <span className={styles.tempMin}>{item.tempMin}°C</span></div>\n        </div>\n      ))}\n    </div>\n  )\n}\nexport default DatesWeather;","import styles from './index.module.less';\nimport { hourWeather } from '../../../../api';\nimport { getHourAmPmTime } from '../../../../utils/date'\n\ninterface IProps {\n  weatherList: hourWeather[]\n}\nconst HoursWeather: React.FC<IProps> = (props) => {\n  const { weatherList } = props;\n  return (\n    <div className={styles.hoursWeatherWarp}>\n      <div className={styles.box}>\n        { weatherList.map((item,index) => (\n          <div className={styles.hoursWeatherItem} key={index}>\n            <div className={styles.tmp}><span className={styles.number}>{item.temp}</span> <span className={styles.unit}>°C</span></div>\n            <div className={styles.fxTime}>{getHourAmPmTime(item.fxTime, 'a')}</div>\n          </div>\n        ))}\n        </div>\n    </div>\n  )\n}\nexport default HoursWeather;","import styles from './index.module.less';\nimport { hourWeather } from '../../../../api';\nimport { getHourAmPmTime } from '../../../../utils/date'\nimport ReactEcharts from \"echarts-for-react\";\ninterface IProps {\n  weatherList: hourWeather[]\n}\nconst chartWeather: React.FC<IProps> = (props) => {\n  const { weatherList } = props;\n  const getOption = () => {\n    const xData = weatherList.map((item) => {\n      return getHourAmPmTime(item.fxTime, 'a')\n    })\n    const yData = weatherList.map((item) => {\n      return item.temp\n    })\n    return {\n      xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: xData\n      },\n      lineStyle: { color: '#E9C939' },\n      yAxis: {\n        show: false\n      },\n      grid:{\n        height: 120,\n        top: 0,\n        left: 20,\n        right: 20,\n        bottom: 0\n      },\n      series: [\n        {\n          data: yData,\n          type: 'line',\n          showSymbol: false,\n          areaStyle: {\n            color: 'rgba(233, 201, 57, 0.25)'\n          }\n        }\n      ]\n    };\n  }\n  return (\n    <div className={styles.chartWeatherWarp}>\n      <ReactEcharts\n        option={getOption()}\n        style={{height: '140px', width: '100%'}}\n        notMerge={true}\n        lazyUpdate={true}\n          />\n    </div>\n  )\n}\nexport default chartWeather;","import styles from './index.module.less';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect }from 'react'\nimport { getWeather24h, getWeather7d, todayWeather }  from '../../api';\nimport DatesWeather from './components/datesWeather';\nimport HoursWeather from './components/hoursWeather';\nimport ChartWeather from './components/chartWeather';\n\nimport Storage from '@/utils/storage'\n\nconst weatherDetail = [\n    {name:'降雨量', unit:'%', key: 'precip'}, \n    {name:'湿度', unit:'%', key: 'humidity'}, \n    {name:'风度', unit:'km/h', key: 'windSpeed'}]\ntype weatherDetailKey =  'precip' | 'humidity' | 'windSpeed'\nexport default function Detail () {\n  const { state } = useLocation<todayWeather>();\n  const [weatherHoursRes, setWeatherHoursRes] = useState([])\n  const [weatherDatesRes, setWeatherDatesRes] = useState([])\n    useEffect(() => {\n      // 获取7天\n      getWeather7d().then((res) => {\n        Storage.setItem('weatherDatesRes', {value: res.daily})\n        setWeatherDatesRes(res.daily);\n      }).catch(async (err) => {\n        const res = await Storage.getItem('weatherDatesRes')\n        if(res) {\n          setWeatherDatesRes(res.value)\n        }\n      });\n      // 获取24小时\n      getWeather24h().then((res) => {\n        Storage.setItem('weatherHoursRes', {value:res.hourly})\n        setWeatherHoursRes(res.hourly);\n      }).catch(async (err) => {\n        const res = await Storage.getItem('weatherHoursRes')\n        if (res) {\n          setWeatherHoursRes(res.value)\n        }\n      });\n    }, []);\n    let weatherDetailcp = weatherDetail.map((item)=>{\n      return (\n        <div className={styles.weatherDetailItem}  key={item.key}>\n          <div className={styles.weatherDetailItemLeft}>{item.name}</div>\n          <div className={styles.weatherDetailItemRight}>\n          <div className={styles.number}>{state[item.key as weatherDetailKey]}</div>\n          <div className={styles.unit}>{item.unit}</div>\n          </div>\n        </div>\n      )\n    });\n  return (\n    <div className={styles.detail}>\n      <div className={styles.back}><Link to=\"/home\">←</Link></div>\n      <div className={styles.raindrop}></div>  \n      <div className={styles.city}>杭州市, 浙江省</div>\n      <div className={styles.temperatureWarp}>\n        <div className={styles.number}>{state.temp}</div>\n        <div className={styles.util}>°C</div>\n      </div>\n      <div className={styles.weatherDetail}>\n        {weatherDetailcp}\n      </div>\n      <ChartWeather weatherList={weatherHoursRes}/>\n      <HoursWeather weatherList={weatherHoursRes}/>\n      <DatesWeather weatherList={weatherDatesRes}/>\n    </div>\n   )\n}","import React from 'react';\nimport Home from './pages/home/index';\nimport Detail from './pages/detail/index';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route  exact path=\"/\">\n            <Home/>\n          </Route>\n          <Route  exact path=\"/home\">\n            <Home/>\n          </Route>\n          <Route path=\"/detail\">\n            <Detail/>\n          </Route>\n        </Switch>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"index_home__3vM89\",\"raindrop\":\"index_raindrop__28eKh\",\"card\":\"index_card__B0HWV\",\"city\":\"index_city__1sru3\",\"list\":\"index_list__3h_KC\",\"listLeft\":\"index_listLeft__3x_mB\",\"temperatureWarp\":\"index_temperatureWarp__1np87\",\"number\":\"index_number__2doiI\",\"util\":\"index_util__3ZBER\",\"tiemWarp\":\"index_tiemWarp__2r0Hd\",\"listRight\":\"index_listRight__rTMeQ\",\"wind\":\"index_wind__1e80W\",\"cloud\":\"index_cloud__24rQK\",\"linkBtn\":\"index_linkBtn__3DtV6\",\"weatherDetail\":\"index_weatherDetail__R96jw\",\"weatherDetailItem\":\"index_weatherDetailItem__1Eo2H\",\"weatherDetailItemLeft\":\"index_weatherDetailItemLeft__1MP8N\",\"weatherDetailItemRight\":\"index_weatherDetailItemRight__5I9p_\",\"footer\":\"index_footer__27HwU\",\"homeTap\":\"index_homeTap__1Mh69\"};"],"sourceRoot":""}